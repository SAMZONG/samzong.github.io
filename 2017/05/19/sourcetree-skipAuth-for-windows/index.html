<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> HowTo-Skip-Atlassian-Auth-for-SourceTree · SAMZONG</title><meta name="description" content="HowTo-Skip-Atlassian-Auth-for-SourceTree - SAMZONG"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="https://samzong.me/atom.xml" title="SAMZONG"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="http://weibo.com/sunchongsheng" target="_blank" class="nav-list-link">WEIBO</a></li><li class="nav-list-item"><a href="https://github.com/pinggod" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">HowTo-Skip-Atlassian-Auth-for-SourceTree</h1><div class="post-info">May 19, 2017</div><div class="post-content"><h4 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h4><p><img src="https://samzong.oss-cn-shenzhen.aliyuncs.com/blog/eaxem.png" alt=""></p>
<p>因为国内的网络的原因，导致我们在首次打开SourceTree时需要验证Atlassian账号，但是Atlassian的注册页面使用requirejs是用了Google的CDN服务，所以无法正常通过验证，如果你有翻墙工具，那么这就没有问题，下面我要讲的方法是在不翻墙的情况下跳过初始化验证。</p>
<blockquote>
<p>目前我解决的是在Windows平台上的问题，关于Mac平台，我稍后会更新到文档中。</p>
</blockquote>
<h4 id="解决思路"><a href="#解决思路" class="headerlink" title="解决思路"></a>解决思路</h4><p>我的想法是通过增加<code>account</code>信息，让<code>SourceTree</code>跳过验证；经过测试<code>2.0.19</code>及以下版本都支持，但是SourceTree在最新版本2.0.20时可能修订验证方式，所以导致我的这个方式不适用，大家可以在我的百度云盘共享中下载2.0.19，功能上并没发生多少变化。</p>
<p>链接: <a href="https://pan.baidu.com/s/1qYsHKWs" target="_blank" rel="external">https://pan.baidu.com/s/1qYsHKWs</a> 密码: wnc3</p>
<h4 id="解决步骤"><a href="#解决步骤" class="headerlink" title="解决步骤"></a>解决步骤</h4><h5 id="NET-4-5-2"><a href="#NET-4-5-2" class="headerlink" title=".NET 4.5.2"></a>.NET 4.5.2</h5><p>SourceTree 依赖的.NET环境最低是4.5.2，当然在你安装的过程中，会提示你下载安装，你只需要确认即可，不过这样下载会比较慢，所以建议你使用Offline的形式安装，下面是微软官方下载地址：</p>
<p><a href="https://www.microsoft.com/en-us/download/confirmation.aspx?id=42642" target="_blank" rel="external">https://www.microsoft.com/en-us/download/confirmation.aspx?id=42642</a></p>
<h5 id="SourceTree"><a href="#SourceTree" class="headerlink" title="SourceTree"></a>SourceTree</h5><p>安装过程中，默认一路“Next”即可，在安装完成之后，我们需要找到SourceTree在LocalAppData中的路径，请打开资源管理窗口，然后输入以下地址：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">%LocalAppData%\Atlassian\SourceTree\</div></pre></td></tr></table></figure>
<blockquote>
<p>如果路径不存在，创建目录即可</p>
</blockquote>
<p>然后将之前百度云盘的文件<code>accounts.json</code>复制到这个位置，它的路径应该是：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">%LocalAppData%\Atlassian\SourceTree\accounts.json</div></pre></td></tr></table></figure>
<p>文件内容：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">[</div><div class="line">  &#123;</div><div class="line">    <span class="attr">"$id"</span>: <span class="string">"1"</span>,</div><div class="line">    <span class="attr">"$type"</span>: <span class="string">"SourceTree.Api.Host.Identity.Model.IdentityAccount, SourceTree.Api.Host.Identity"</span>,</div><div class="line">    <span class="attr">"Authenticate"</span>: <span class="literal">true</span>,</div><div class="line">    <span class="attr">"HostInstance"</span>: &#123;</div><div class="line">      <span class="attr">"$id"</span>: <span class="string">"2"</span>,</div><div class="line">      <span class="attr">"$type"</span>: <span class="string">"SourceTree.Host.Atlassianaccount.AtlassianAccountInstance, SourceTree.Host.AtlassianAccount"</span>,</div><div class="line">      <span class="attr">"Host"</span>: &#123;</div><div class="line">        <span class="attr">"$id"</span>: <span class="string">"3"</span>,</div><div class="line">        <span class="attr">"$type"</span>: <span class="string">"SourceTree.Host.Atlassianaccount.AtlassianAccountHost, SourceTree.Host.AtlassianAccount"</span>,</div><div class="line">        <span class="attr">"Id"</span>: <span class="string">"atlassian account"</span></div><div class="line">      &#125;,</div><div class="line">      <span class="attr">"BaseUrl"</span>: <span class="string">"https://id.atlassian.com/"</span></div><div class="line">    &#125;,</div><div class="line">    <span class="attr">"Credentials"</span>: &#123;</div><div class="line">      <span class="attr">"$id"</span>: <span class="string">"4"</span>,</div><div class="line">      <span class="attr">"$type"</span>: <span class="string">"SourceTree.Model.BasicAuthCredentials, SourceTree.Api.Account"</span>,</div><div class="line">      <span class="attr">"Username"</span>: <span class="string">""</span>,</div><div class="line">      <span class="attr">"Email"</span>: <span class="literal">null</span></div><div class="line">    &#125;,</div><div class="line">    <span class="attr">"IsDefault"</span>: <span class="literal">false</span></div><div class="line">  &#125;</div><div class="line">]</div></pre></td></tr></table></figure>
<p>添加完成之后，启动SourceTree即可发现已经跳过了验证界面。</p>
</div></article></div></main><footer><div class="paginator"><a href="/2017/05/20/sdfsdfsdsd12/" class="prev">PREV</a><a href="/2017/05/19/tortoisegit-for-windows/" class="next">NEXT</a></div><div class="copyright"><p>© 2012 - 2017 <a href="https://samzong.me">SAMZONG</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>