<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> HowTo Install PostgreSQL 9.5 on CentOS 6.x · SAMZONG</title><meta name="description" content="HowTo Install PostgreSQL 9.5 on CentOS 6.x - SAMZONG"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="https://samzong.me/atom.xml" title="SAMZONG"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="http://weibo.com/sunchongsheng" target="_blank" class="nav-list-link">WEIBO</a></li><li class="nav-list-item"><a href="https://github.com/pinggod" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">HowTo Install PostgreSQL 9.5 on CentOS 6.x</h1><div class="post-info">Oct 20, 2016</div><div class="post-content"><h3 id="CentOS-6"><a href="#CentOS-6" class="headerlink" title="CentOS 6"></a>CentOS 6</h3><h5 id="1-Install-PostgreSQL-repository-and-the-PostgreSQL-server-by-running-the-following"><a href="#1-Install-PostgreSQL-repository-and-the-PostgreSQL-server-by-running-the-following" class="headerlink" title="1. Install PostgreSQL repository and the PostgreSQL server by running the following:"></a>1. Install PostgreSQL repository and the PostgreSQL server by running the following:</h5><figure class="highlight crystal"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">sudo yum install <span class="symbol">https:</span>/<span class="regexp">/download.postgresql.org/pub</span><span class="regexp">/repos/yum</span><span class="regexp">/9.5/redhat</span><span class="regexp">/rhel-6-x86_64/pgdg</span>-centos95-<span class="number">9.5</span>-<span class="number">2</span>.noarch.rpm</div><div class="line"></div><div class="line">sudo yum install postgresql95-serve</div></pre></td></tr></table></figure>
<h5 id="2-Create-the-PostgreSQL-database-cluster"><a href="#2-Create-the-PostgreSQL-database-cluster" class="headerlink" title="2. Create the PostgreSQL database cluster."></a>2. Create the PostgreSQL database cluster.</h5><figure class="highlight routeros"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sduo<span class="built_in"> service </span>postgresql-9.5 initdb</div></pre></td></tr></table></figure>
<h5 id="3-Enable-automatic-PostgreSQL-server-startup"><a href="#3-Enable-automatic-PostgreSQL-server-startup" class="headerlink" title="3. Enable automatic PostgreSQL server startup."></a>3. Enable automatic PostgreSQL server startup.</h5><figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo chkconfig postgresql<span class="number">-9.5</span> <span class="keyword">on</span></div></pre></td></tr></table></figure>
<h5 id="4-Start-the-PostgreSQL-server"><a href="#4-Start-the-PostgreSQL-server" class="headerlink" title="4. Start the PostgreSQL server."></a>4. Start the PostgreSQL server.</h5><figure class="highlight routeros"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo<span class="built_in"> service </span>postgresql-9.5 start</div></pre></td></tr></table></figure>
<h3 id="CentOS-7"><a href="#CentOS-7" class="headerlink" title="CentOS 7"></a>CentOS 7</h3><h5 id="1-Install-PostgreSQL-repository-and-the-PostgreSQL-server-by-running-the-following-1"><a href="#1-Install-PostgreSQL-repository-and-the-PostgreSQL-server-by-running-the-following-1" class="headerlink" title="1. Install PostgreSQL repository and the PostgreSQL server by running the following:"></a>1. Install PostgreSQL repository and the PostgreSQL server by running the following:</h5><figure class="highlight crystal"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">sudo yum install <span class="symbol">https:</span>/<span class="regexp">/download.postgresql.org/pub</span><span class="regexp">/repos/yum</span><span class="regexp">/9.5 /redhat</span><span class="regexp">/rhel-7-x86_64/pgdg</span>-centos95-<span class="number">9.5</span>-<span class="number">2</span>.noarch.rpm</div><div class="line"></div><div class="line">sudo yum install postgresql95-serve</div></pre></td></tr></table></figure>
<h5 id="2-Create-the-PostgreSQL-database-cluster-1"><a href="#2-Create-the-PostgreSQL-database-cluster-1" class="headerlink" title="2. Create the PostgreSQL database cluster."></a>2. Create the PostgreSQL database cluster.</h5><figure class="highlight awk"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo <span class="regexp">/usr/</span>pgsql-<span class="number">9.5</span><span class="regexp">/bin/</span>postgresql95-setup initdb</div></pre></td></tr></table></figure>
<h5 id="3-Enable-automatic-PostgreSQL-server-startup-1"><a href="#3-Enable-automatic-PostgreSQL-server-startup-1" class="headerlink" title="3. Enable automatic PostgreSQL server startup."></a>3. Enable automatic PostgreSQL server startup.</h5><figure class="highlight routeros"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo systemctl <span class="builtin-name">enable</span> postgresql-9.5</div></pre></td></tr></table></figure>
<h5 id="4-Start-the-PostgreSQL-server-1"><a href="#4-Start-the-PostgreSQL-server-1" class="headerlink" title="4. Start the PostgreSQL server."></a>4. Start the PostgreSQL server.</h5><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo systemctl <span class="literal">start</span> postgresql-<span class="number">9.5</span></div></pre></td></tr></table></figure>
<h3 id="Configurations-for-CentOS"><a href="#Configurations-for-CentOS" class="headerlink" title="Configurations for CentOS"></a>Configurations for CentOS</h3><p>When installing in CentOs env. you will also need to make the following configurations.</p>
<h5 id="1-Change-authentication-to-md5"><a href="#1-Change-authentication-to-md5" class="headerlink" title="1. Change authentication to md5."></a>1. Change authentication to md5.</h5><figure class="highlight crystal"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo vi /var/<span class="class"><span class="keyword">lib</span>/<span class="title">pgsql</span>/9.5/<span class="title">data</span>/<span class="title">pg_hba</span>.<span class="title">conf</span></span></div></pre></td></tr></table></figure>
<h5 id="2-Change-METHOD-to-md5"><a href="#2-Change-METHOD-to-md5" class="headerlink" title="2. Change METHOD to md5."></a>2. Change METHOD to md5.</h5><figure class="highlight apache"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># IPv4 local connections:</span></div><div class="line"><span class="attribute">host</span>    <span class="literal">all</span>             <span class="literal">all</span>             127.0.0.1/32            md5</div><div class="line"></div><div class="line"><span class="comment"># IPv6 local connections:</span></div><div class="line"><span class="attribute">host</span>    <span class="literal">all</span>             <span class="literal">all</span>             ::1/128                 md5</div></pre></td></tr></table></figure>
<h5 id="3-Restart-PostgreSQL"><a href="#3-Restart-PostgreSQL" class="headerlink" title="3. Restart PostgreSQL"></a>3. Restart PostgreSQL</h5></div></article></div></main><footer><div class="paginator"><a href="/2016/10/29/ssh-config-security/" class="prev">PREV</a><a href="/2016/10/14/some-weibo/" class="next">NEXT</a></div><div class="copyright"><p>© 2012 - 2017 <a href="https://samzong.me">SAMZONG</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>